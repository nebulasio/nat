CiCQphLCIRCqUPyxSB0Hp/zJSGUBVcf+uNp2dCb/ERcCBxIaGVcbjfHXBl0fnDap3sbXNtJSwGWxPjmxY9UaGhlXG43x1wZdH5w2qd7G1zbSUsBlsT45sWPVIhAAAAAAAAAAAAAAAAAAAAAAKD8w6bWA5qotOsxQCgZkZXBsb3kSwVB7IlNvdXJjZVR5cGUiOiAianMiLCAiU291cmNlIjogImZ1bmN0aW9uIFZvdGVQYWdlTGlzdChzdG9yYWdlLCBrZXkpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgdGhpcy5fcGFnZUluZGV4ZXMgPSBudWxsO1xuICAgIHRoaXMuX3BhZ2VTaXplID0gMTAwMDtcbn1cblxuVm90ZVBhZ2VMaXN0LnByb3RvdHlwZSA9IHtcblxuICAgIF9pbmRleGVzS2V5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcInBpc19cIiArIHRoaXMuX2tleTtcbiAgICB9LFxuXG4gICAgX2RhdGFLZXk6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gXCJwZF9cIiArIHRoaXMuX2tleSArIFwiX1wiICsgaW5kZXg7XG4gICAgfSxcblxuICAgIF9sYXN0SW5kZXg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGluZGV4ZXMgPSB0aGlzLmdldFBhZ2VJbmRleGVzKCk7XG4gICAgICAgIGlmIChpbmRleGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzW2luZGV4ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIF9hZGRJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHRoaXMuZ2V0UGFnZUluZGV4ZXMoKS5wdXNoKGluZGV4KTtcbiAgICAgICAgdGhpcy5fc2F2ZUluZGV4ZXMoKTtcbiAgICB9LFxuXG4gICAgX3NhdmVJbmRleGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2UucHV0KHRoaXMuX2luZGV4ZXNLZXkoKSwgdGhpcy5nZXRQYWdlSW5kZXhlcygpKTtcbiAgICB9LFxuXG4gICAgZ2V0UGFnZUluZGV4ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYWdlSW5kZXhlcykge1xuICAgICAgICAgICAgdGhpcy5fcGFnZUluZGV4ZXMgPSB0aGlzLl9zdG9yYWdlLmdldCh0aGlzLl9pbmRleGVzS2V5KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcGFnZUluZGV4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhZ2VJbmRleGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VJbmRleGVzO1xuICAgIH0sXG5cbiAgICBnZXRQYWdlRGF0YTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGxldCByID0gdGhpcy5fc3RvcmFnZS5nZXQodGhpcy5fZGF0YUtleShpbmRleCkpO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIHIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgYWRkOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2xhc3RJbmRleCgpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGlmIChpbmRleCkge1xuICAgICAgICAgICAgaSA9IGluZGV4Lmk7XG4gICAgICAgICAgICBpZiAoaW5kZXgubCA+IHRoaXMuX3BhZ2VTaXplKSB7XG4gICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgICAgICBpbmRleCA9IHtpOiBpLCBsOiAwfTtcbiAgICAgICAgICAgIHRoaXMuX2FkZEluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZCA9IHRoaXMuZ2V0UGFnZURhdGEoaW5kZXguaSk7XG4gICAgICAgIGQucHVzaChvYmopO1xuICAgICAgICBpbmRleC5sICs9IDE7XG4gICAgICAgIHRoaXMuX3NhdmVJbmRleGVzKCk7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2UucHV0KHRoaXMuX2RhdGFLZXkoaW5kZXguaSksIGQpO1xuICAgIH0sXG59O1xuXG5cbmZ1bmN0aW9uIEFkZHJlc3NEYXRhTWFuYWdlcih2b3RlRGF0YU1hbmFnZXIsIGFkZHJlc3MsIGhhc2gpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gdm90ZURhdGFNYW5hZ2VyLl9zdG9yYWdlO1xuICAgIHRoaXMuX3ZvdGVEYXRhTWFuYWdlciA9IHZvdGVEYXRhTWFuYWdlcjtcbiAgICB0aGlzLl9hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLl9oYXNoID0gaGFzaDtcbiAgICB0aGlzLl9kYXRhS2V5ID0gXCJhZF9cIiArIHRoaXMuX3ZvdGVEYXRhTWFuYWdlci5fZGF0YXNvdXJjZSArIFwiX1wiICsgaGFzaCArIFwiX1wiICsgYWRkcmVzcztcbn1cblxuQWRkcmVzc0RhdGFNYW5hZ2VyLnByb3RvdHlwZSA9IHtcblxuICAgIGdldFJlc3VsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuX2RhdGFLZXkpO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIHIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgYWRkVm90ZVZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIHdlaWdodCwgZGlzdHJpYnV0ZSkge1xuICAgICAgICBsZXQgciA9IHRoaXMuZ2V0UmVzdWx0KCk7XG4gICAgICAgIHIucHVzaCh7djogdmFsdWUsIHc6IHdlaWdodCwgZDogZGlzdHJpYnV0ZX0pO1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnB1dCh0aGlzLl9kYXRhS2V5LCByKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSxcbn07XG5cblxuZnVuY3Rpb24gVm90ZURhdGFNYW5hZ2VyKHN0b3JhZ2UsIGRhdGFTb3VyY2UpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB0aGlzLl9kYXRhc291cmNlID0gZGF0YVNvdXJjZTtcbiAgICB0aGlzLl9oYXNoTGlzdCA9IG5ldyBWb3RlUGFnZUxpc3Qoc3RvcmFnZSwgXCJoYXNoc19cIiArIGRhdGFTb3VyY2UpO1xufVxuXG5Wb3RlRGF0YU1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIF9yZXN1bHRLZXk6IGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICAgIHJldHVybiBcInZoX1wiICsgdGhpcy5fZGF0YXNvdXJjZSArIFwiX1wiICsgaGFzaDtcbiAgICB9LFxuXG4gICAgX2FkZHJlc3NMaXN0OiBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgICByZXR1cm4gbmV3IFZvdGVQYWdlTGlzdCh0aGlzLl9zdG9yYWdlLCBcImFzX1wiICsgdGhpcy5fZGF0YXNvdXJjZSArIFwiX1wiICsgaGFzaCk7XG4gICAgfSxcblxuICAgIHNhdmVWb3RlOiBmdW5jdGlvbiAoaGFzaCwgcikge1xuICAgICAgICBsZXQgcmsgPSB0aGlzLl9yZXN1bHRLZXkoaGFzaCk7XG4gICAgICAgIGlmICghdGhpcy5fc3RvcmFnZS5nZXQocmspKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNoTGlzdC5hZGQoaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmFnZS5wdXQocmssIHIpO1xuICAgIH0sXG5cbiAgICBnZXRBZGRyZXNzSW5kZXhlczogZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZHJlc3NMaXN0KGhhc2gpLmdldFBhZ2VJbmRleGVzKCk7XG4gICAgfSxcblxuICAgIGdldEFkZHJlc3NlczogZnVuY3Rpb24gKGhhc2gsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRyZXNzTGlzdChoYXNoKS5nZXRQYWdlRGF0YShpbmRleCk7XG4gICAgfSxcblxuICAgIHNhdmVBZGRyZXNzVm90ZTogZnVuY3Rpb24gKGFkZHJlc3MsIGhhc2gsIHZhbHVlLCB3ZWlnaHQsIGRpc3RyaWJ1dGUpIHtcbiAgICAgICAgbGV0IG0gPSBuZXcgQWRkcmVzc0RhdGFNYW5hZ2VyKHRoaXMsIGFkZHJlc3MsIGhhc2gpO1xuICAgICAgICBsZXQgciA9IG0uYWRkVm90ZVZhbHVlKHZhbHVlLCB3ZWlnaHQsIGRpc3RyaWJ1dGUpO1xuICAgICAgICBpZiAoci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZHJlc3NMaXN0KGhhc2gpLmFkZChhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRBZGRyZXNzVm90ZVJlc3VsdDogZnVuY3Rpb24gKGFkZHJlc3MsIGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzRGF0YU1hbmFnZXIodGhpcywgYWRkcmVzcywgaGFzaCkuZ2V0UmVzdWx0KCk7XG4gICAgfSxcblxuICAgIGdldFJlc3VsdDogZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuX3Jlc3VsdEtleShoYXNoKSk7XG4gICAgfSxcblxuICAgIGdldEhhc2hJbmRleGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNoTGlzdC5nZXRQYWdlSW5kZXhlcygpO1xuICAgIH0sXG5cbiAgICBnZXRIYXNoczogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNoTGlzdC5nZXRQYWdlRGF0YShpbmRleCk7XG4gICAgfSxcblxuXG59O1xuXG5cbmZ1bmN0aW9uIFZvdGUoc3RvcmFnZSkge1xuICAgIHRoaXMuX2NvbnRyYWN0TmFtZSA9IFwiVm90ZVwiO1xuICAgIExvY2FsQ29udHJhY3RTdG9yYWdlLmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBfY29uZmlnOiBudWxsLFxuICAgICAgICBfdm90ZU1hbmFnZXJzOiBudWxsLFxuICAgICAgICBfZGF0YVNvdXJjZXM6IG51bGwsXG4gICAgfSk7XG4gICAgTG9jYWxDb250cmFjdFN0b3JhZ2UuZGVmaW5lTWFwUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIFwiX3N0b3JhZ2VcIjogbnVsbCxcbiAgICB9KTtcbn1cblxuVm90ZS5wcm90b3R5cGUgPSB7XG5cbiAgICBnZXQgX25hdENvbnRyYWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX19uYXRDb250cmFjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcubmF0TlJDMjApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoXCJuYXROUkMyMCBub3QgZm91bmQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fX25hdENvbnRyYWN0ID0gbmV3IEJsb2NrY2hhaW4uQ29udHJhY3QodGhpcy5fY29uZmlnLm5hdE5SQzIwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fX25hdENvbnRyYWN0O1xuICAgIH0sXG5cbiAgICBnZXQgX2Rpc3RyaWJ1dGVDb250cmFjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fZGlzdHJpYnV0ZUNvbnRyYWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5kaXN0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiZGlzdHJpYnV0ZSBub3QgZm91bmQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fX2Rpc3RyaWJ1dGVDb250cmFjdCA9IG5ldyBCbG9ja2NoYWluLkNvbnRyYWN0KHRoaXMuX2NvbmZpZy5kaXN0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fX2Rpc3RyaWJ1dGVDb250cmFjdDtcbiAgICB9LFxuXG4gICAgX3ZlcmlmeUFkZHJlc3M6IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIGlmIChCbG9ja2NoYWluLnZlcmlmeUFkZHJlc3MoYWRkcmVzcykgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IChcIkFkZHJlc3MgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3ZlcmlmeUZyb21NdWx0aXNpZzogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLm11bHRpU2lnICE9PSBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLmZyb20pIHtcbiAgICAgICAgICAgIHRocm93IChcIlBlcm1pc3Npb24gRGVuaWVkIVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfdmVyaWZ5RnJvbU1hbmFnZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdm90ZU1hbmFnZXJzIHx8IHRoaXMuX3ZvdGVNYW5hZ2Vycy5pbmRleE9mKEJsb2NrY2hhaW4udHJhbnNhY3Rpb24uZnJvbSkgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyAoXCJQZXJtaXNzaW9uIERlbmllZCFcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3ZlcmlmeURhdGFTb3VyY2U6IGZ1bmN0aW9uIChkYXRhU291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhU291cmNlcy5pbmRleE9mKGRhdGFTb3VyY2UpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgKFwiZGF0YSBzb3VyY2UgZXJyb3IuXCIpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF92ZXJpZnlWb3RlOiBmdW5jdGlvbiAoZGF0YSwgdmFsdWUsIHdlaWdodCkge1xuICAgICAgICBpZiAoZGF0YS5vcHRpb25zLmluZGV4T2YodmFsdWUpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgKFwidm90ZSB2YWx1ZSBlcnJvci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JhbGFuY2VPZihCbG9ja2NoYWluLnRyYW5zYWN0aW9uLmZyb20pLmx0KHdlaWdodCkpIHtcbiAgICAgICAgICAgIHRocm93IChcIkluc3VmZmljaWVudCBOYXQgYmFsYW5jZVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0RGF0YTogZnVuY3Rpb24gKGRhdGFTb3VyY2UsIGhhc2gpIHtcbiAgICAgICAgbGV0IGMgPSBuZXcgQmxvY2tjaGFpbi5Db250cmFjdChkYXRhU291cmNlKTtcbiAgICAgICAgbGV0IGQgPSBjLmNhbGwoXCJnZXREYXRhXCIsIGhhc2gpO1xuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgIHRocm93IChcImRhdGEgXCIgKyBoYXNoICsgXCIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZDtcbiAgICB9LFxuXG4gICAgX2RlZmF1bHRSZXN1bHQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGxldCByID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5vcHRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByW2RhdGEub3B0aW9uc1tpXV0gPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgX3ZvdGU6IGZ1bmN0aW9uICh2b3RlRGF0YU1hbmFnZXIsIGRhdGEsIGhhc2gsIHZhbHVlLCB3ZWlnaHQpIHtcbiAgICAgICAgbGV0IHIgPSB2b3RlRGF0YU1hbmFnZXIuZ2V0UmVzdWx0KGhhc2gpO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIHIgPSB0aGlzLl9kZWZhdWx0UmVzdWx0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3ID0gbmV3IEJpZ051bWJlcih3ZWlnaHQpLmRpdihuZXcgQmlnTnVtYmVyKDEwKS5wb3coMTgpKTtcbiAgICAgICAgbGV0IHYgPSB0aGlzLl9kaXN0cmlidXRlQ29udHJhY3QuY2FsbChcInZvdGVcIiwgQmxvY2tjaGFpbi50cmFuc2FjdGlvbi5mcm9tLCB3KTtcbiAgICAgICAgbGV0IHJ3ID0gclt2YWx1ZV07XG4gICAgICAgIGlmICghcncpIHtcbiAgICAgICAgICAgIHJ3ID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgcncgPSBuZXcgQmlnTnVtYmVyKHJ3KTtcbiAgICAgICAgclt2YWx1ZV0gPSBydy5wbHVzKHcpLnRvU3RyaW5nKDEwKTtcbiAgICAgICAgdm90ZURhdGFNYW5hZ2VyLnNhdmVWb3RlKGhhc2gsIHIpO1xuICAgICAgICBsZXQgZCA9IG5ldyBCaWdOdW1iZXIodikucGx1cyh3KS50b1N0cmluZygxMCk7XG4gICAgICAgIHZvdGVEYXRhTWFuYWdlci5zYXZlQWRkcmVzc1ZvdGUoQmxvY2tjaGFpbi50cmFuc2FjdGlvbi5mcm9tLCBoYXNoLCB2YWx1ZSwgdywgZCk7XG4gICAgfSxcblxuICAgIF9iYWxhbmNlT2Y6IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHRoaXMuX25hdENvbnRyYWN0LmNhbGwoXCJiYWxhbmNlT2ZcIiwgYWRkcmVzcykpO1xuICAgIH0sXG5cbiAgICBpbml0OiBmdW5jdGlvbiAobXVsdGlTaWcsIHZvdGVNYW5hZ2Vycykge1xuICAgICAgICB0aGlzLl92ZXJpZnlBZGRyZXNzKG11bHRpU2lnKTtcbiAgICAgICAgaWYgKHZvdGVNYW5hZ2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IChcIk5lZWQgYXQgbGVhc3Qgb25lIGFkbWluaXN0cmF0b3IuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm90ZU1hbmFnZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJpZnlBZGRyZXNzKHZvdGVNYW5hZ2Vyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29uZmlnID0ge211bHRpU2lnOiBtdWx0aVNpZ307XG4gICAgICAgIHRoaXMuX3ZvdGVNYW5hZ2VycyA9IHZvdGVNYW5hZ2VycztcbiAgICB9LFxuXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfSxcblxuICAgIHNldENvbmZpZzogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLl92ZXJpZnlGcm9tTXVsdGlzaWcoKTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0ge1xuICAgICAgICAgICAgbXVsdGlTaWc6IGNvbmZpZy5tdWx0aVNpZyxcbiAgICAgICAgICAgIG5hdE5SQzIwOiBjb25maWcubmF0TlJDMjAsXG4gICAgICAgICAgICBkaXN0cmlidXRlOiBjb25maWcuZGlzdHJpYnV0ZVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBnZXREYXRhU291cmNlczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVNvdXJjZXM7XG4gICAgfSxcblxuICAgIHNldERhdGFTb3VyY2VzOiBmdW5jdGlvbiAoZGF0YVNvdXJjZXMpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5RnJvbU1hbmFnZXJzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVNvdXJjZXM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5fdmVyaWZ5QWRkcmVzcyhkYXRhU291cmNlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZXMgPSBkYXRhU291cmNlcztcbiAgICB9LFxuXG4gICAgdm90ZTogZnVuY3Rpb24gKGRhdGFTb3VyY2UsIGhhc2gsIHZhbHVlLCB3ZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5RGF0YVNvdXJjZShkYXRhU291cmNlKTtcbiAgICAgICAgbGV0IHZtID0gbmV3IFZvdGVEYXRhTWFuYWdlcih0aGlzLl9zdG9yYWdlLCBkYXRhU291cmNlKTtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9nZXREYXRhKGRhdGFTb3VyY2UsIGhhc2gpO1xuICAgICAgICB3ZWlnaHQgPSBuZXcgQmlnTnVtYmVyKHdlaWdodCk7XG4gICAgICAgIHRoaXMuX3ZlcmlmeVZvdGUoZGF0YSwgdmFsdWUsIHdlaWdodCk7XG4gICAgICAgIHRoaXMuX3ZvdGUodm0sIGRhdGEsIGhhc2gsIHZhbHVlLCB3ZWlnaHQpO1xuICAgIH0sXG5cbiAgICBnZXRIYXNoSW5kZXhlczogZnVuY3Rpb24gKGRhdGFTb3VyY2UpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5RGF0YVNvdXJjZShkYXRhU291cmNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWb3RlRGF0YU1hbmFnZXIodGhpcy5fc3RvcmFnZSwgZGF0YVNvdXJjZSkuZ2V0SGFzaEluZGV4ZXMoKTtcbiAgICB9LFxuXG4gICAgZ2V0SGFzaGVzOiBmdW5jdGlvbiAoZGF0YVNvdXJjZSwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5RGF0YVNvdXJjZShkYXRhU291cmNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWb3RlRGF0YU1hbmFnZXIodGhpcy5fc3RvcmFnZSwgZGF0YVNvdXJjZSkuZ2V0SGFzaHMoaW5kZXgpO1xuICAgIH0sXG5cbiAgICBnZXRWb3RlUmVzdWx0OiBmdW5jdGlvbiAoZGF0YVNvdXJjZSwgaGFzaCkge1xuICAgICAgICB0aGlzLl92ZXJpZnlEYXRhU291cmNlKGRhdGFTb3VyY2UpO1xuICAgICAgICBsZXQgciA9IG5ldyBWb3RlRGF0YU1hbmFnZXIodGhpcy5fc3RvcmFnZSwgZGF0YVNvdXJjZSkuZ2V0UmVzdWx0KGhhc2gpO1xuICAgICAgICBsZXQgZGF0YSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEJsb2NrY2hhaW4uQ29udHJhY3QoZGF0YVNvdXJjZSkuY2FsbChcImdldERhdGFcIiwgaGFzaCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2RhdGE6IGRhdGEsIHJlc3VsdDogcn07XG4gICAgfSxcblxuICAgIGdldFZvdGVSZXN1bHRCeUFkZHJlc3M6IGZ1bmN0aW9uIChkYXRhU291cmNlLCBoYXNoLCBhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBuZXcgVm90ZURhdGFNYW5hZ2VyKHRoaXMuX3N0b3JhZ2UsIGRhdGFTb3VyY2UpLmdldEFkZHJlc3NWb3RlUmVzdWx0KGFkZHJlc3MsIGhhc2gpO1xuICAgIH0sXG5cbiAgICBnZXRWb3RlQWRkcmVzc0luZGV4ZXM6IGZ1bmN0aW9uIChkYXRhU291cmNlLCBoYXNoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVm90ZURhdGFNYW5hZ2VyKHRoaXMuX3N0b3JhZ2UsIGRhdGFTb3VyY2UpLmdldEFkZHJlc3NJbmRleGVzKGhhc2gpO1xuICAgIH0sXG5cbiAgICBnZXRWb3RlQWRkcmVzc2VzOiBmdW5jdGlvbiAoZGF0YVNvdXJjZSwgaGFzaCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWb3RlRGF0YU1hbmFnZXIodGhpcy5fc3RvcmFnZSwgZGF0YVNvdXJjZSkuZ2V0QWRkcmVzc2VzKGhhc2gsIGluZGV4KTtcbiAgICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWb3RlO1xuIiwgIkFyZ3MiOiAiW1wibjFzeDJEVXBIb1d0c0dYcmh1cHVDQ3hVeGV1V2tZcnFWNWtcIiwgW1wibjFRV1lTdjVNSmZ2RUJBNEE4UEdWckdkc3RkWHpFa1E4SnVcIl1dIn1A1whKEAAAAAAAAAAAAAAABKgXyABSEAAAAAAAAAAAAAAAAAADDUBYAWJBRj0JiW7qC9KunR2MyBIpB2w516W67NALwPsnZLDnzrAAgKIYdcu7fgfxehMOkVNxv7a3RCjoa61J1gmKwKRKvgE=