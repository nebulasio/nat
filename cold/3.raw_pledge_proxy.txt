CiDBnmn6P/et7UKBlO14oPaP2nbDFS7G1XTD6hMTBlU0QRIaGVcbjfHXBl0fnDap3sbXNtJSwGWxPjmxY9UaGhlXG43x1wZdH5w2qd7G1zbSUsBlsT45sWPVIhAAAAAAAAAAAAAAAAAAAAAAKD0w27WA5qotOsw0CgZkZXBsb3kSwTR7IlNvdXJjZVR5cGUiOiAianMiLCAiU291cmNlIjogIi8qXG4gICAgVGhpcyBpcyBhIHNpbXBsZSBtdWx0aXNpZyBzbWFydCBjb250cmFjdCwgYW55IGNvc2lnbmVyIGluIHRoZSBsaXN0IHdpbGwgYmUgYWJsZSB0byBnZXQgdGhyb3VnaCB0aGUgZnVuY3Rpb24gY2FsbFxuICAgIEBhdXRob3I6IFpodW9lciBXYW5nLCBQaW5nIEd1bywgUWl5dWFuIFdhbmdcbiovXG5mdW5jdGlvbiBQbGVkZ2VQcm94eSgpIHtcbiAgICB0aGlzLl9jb250cmFjdE5hbWUgPSBcIlBsZWRnZVByb3h5XCI7XG4gICAgTG9jYWxDb250cmFjdFN0b3JhZ2UuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgIF9hbGxvd1BsZWRnZTogbnVsbCwgLy8gd2hldGhlciBhbGxvdyB0byBwbGVkZ2VcbiAgICAgICAgX2FsbG93RnVuZE1hbmFnZXI6IG51bGwsIC8vIHdoZXRoZXIgZnVuZCBtYW5hZ2VyIGNhbiB0cmFuc2ZlciB0aGUgbW9uZXlcbiAgICAgICAgX2NvbmZpZzogbnVsbCwgLy8gY29udGFpbiBhbGwgY29udHJhY3QgYWRkcmVzc2VzXG4gICAgfSk7XG4gICAgdGhpcy5fcGxlZGdlQ29udHJhY3RPYmogPSBudWxsOyAvLyBwbGVkZ2UuanMgY29udHJhY3Qgb2JqXG59XG5cblBsZWRnZVByb3h5LnByb3RvdHlwZSA9IHtcblxuICAgIGluaXQ6IGZ1bmN0aW9uIChtdWx0aVNpZ0FkZHIpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoaXMgYWRkcmVzcyBpcyB2YWxpZFxuICAgICAgICB0aGlzLl92ZXJpZnlBZGRyZXNzKG11bHRpU2lnQWRkcik7XG4gICAgICAgIC8vIGluaXRpYWwgdGhlIHN0YXR1c1xuICAgICAgICB0aGlzLl9hbGxvd1BsZWRnZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2FsbG93RnVuZE1hbmFnZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0ge211bHRpU2lnOiBtdWx0aVNpZ0FkZHJ9O1xuICAgIH0sXG5cbiAgICBfdmVyaWZ5QWRkcmVzczogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgaWYgKEJsb2NrY2hhaW4udmVyaWZ5QWRkcmVzcyhhZGRyZXNzKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgKFwiQWRkcmVzcyBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfYWxsb3dDb250cm9sOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcubXVsdGlTaWcgPT09IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24uZnJvbTtcbiAgICB9LFxuXG4gICAgX2FsbG93VHJhbnNmZXJGdW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGxvd0NvbnRyb2woKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9hbGxvd0Z1bmRNYW5hZ2VyICYmIHRoaXMuX2NvbmZpZy5wbGVkZ2VQcm94eU1hbmFnZXIgPT09IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24uZnJvbSk7XG4gICAgfSxcblxuICAgIGdldCBwbGVkZ2VDb250cmFjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wbGVkZ2VDb250cmFjdE9iaikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcucGxlZGdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgKFwiUGxlZGdlIG5vdCBmb3VuZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wbGVkZ2VDb250cmFjdE9iaiA9IG5ldyBCbG9ja2NoYWluLkNvbnRyYWN0KHRoaXMuX2NvbmZpZy5wbGVkZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wbGVkZ2VDb250cmFjdE9iajtcbiAgICB9LFxuXG4gICAgLy8gR2V0IGNvbmZpZyBhZGRyZXNzXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBjb25maWcgYWRkcmVzc1xuICAgIC8vIEZvciBtdWx0aXNpZyBvbmx5XG4gICAgc2V0Q29uZmlnOiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGlmICghdGhpcy5fYWxsb3dDb250cm9sKCkpIHtcbiAgICAgICAgICAgIHRocm93IChcInBlcm1pc3Npb24gZGVuaWVkIVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgfSxcblxuICAgIC8vIGZvciBtbHVsdGlzaWcgb25seVxuICAgIGNsb3NlUGxlZGdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYWxsb3dDb250cm9sKCkpIHtcbiAgICAgICAgICAgIHRocm93IChcInBlcm1pc3Npb24gZGVuaWVkIVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hbGxvd1BsZWRnZSA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBmb3IgbXVsdGlzaWcgb25seVxuICAgIG9wZW5QbGVkZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd0NvbnRyb2woKSkge1xuICAgICAgICAgICAgdGhyb3cgKFwicGVybWlzc2lvbiBkZW5pZWQhXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FsbG93UGxlZGdlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZ2V0U3RhdHVzOiBmdW5jdGlvbiAoc3RhdHVzTmFtZSkge1xuICAgICAgICBpZiAoc3RhdHVzTmFtZSA9PT0gXCJhbGxvd1BsZWRnZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dQbGVkZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1c05hbWUgPT09IFwiYWxsb3dGdW5kTWFuYWdlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dGdW5kTWFuYWdlcjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBwbGVkZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd1BsZWRnZSkge1xuICAgICAgICAgICAgdGhyb3cgKFwiVGhpcyBjb250cmFjdCBubyBsb25nZXIgYWNjZXB0IG5ldyBwbGVkZ2VzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWUgPSBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLnZhbHVlO1xuICAgICAgICBsZXQgZnJvbSA9IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24uZnJvbTtcbiAgICAgICAgdGhpcy5wbGVkZ2VDb250cmFjdC5jYWxsKCdwbGVkZ2UnLCBmcm9tLCB2YWx1ZSk7XG4gICAgICAgIEV2ZW50LlRyaWdnZXIoXCJwbGVkZ2VSZWRpcmVjdFwiLCB7XG4gICAgICAgICAgICBUcmFuc2Zlcjoge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdG86IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24udG8sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gcHJveHkgcmVkaXJlY3QgdG8gcGxlZGdlLmpzXG4gICAgY2FuY2VsUGxlZGdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYWxsb3dQbGVkZ2UpIHtcbiAgICAgICAgICAgIHRocm93IChcIlRoaXMgY29udHJhY3Qgbm8gbG9uZ2VyIGFjY2VwdCBuZXcgcGxlZGdlcy4gXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhbGwgcGxlZGdlLmpzIGNhbmNlbFBsZWRnZSBmdW5jdGlvbiB0byBjaGVjayBwbGVnZSBzdGF0dXMgYW5kIHVwZGF0ZSB0aGUgZGF0YVxuICAgICAgICAvLyBpdCB3aWxsIHJldHVybiBhIHZhbHVlIHdpdGggYmlnTnVtYmVyLCBwbGVhc2Ugc2VlIHBsZWRnZS5qc1xuICAgICAgICAvLyBpZiBjYW5jZWwgZmFpbGVkIG9yIHRoZSBhZGRyZXNzIG5vdCBwbGVkZ2UsIGl0IHdpbGwgZmFpbCBpbiB0aGlzIHN0ZXBcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5wbGVkZ2VDb250cmFjdC5jYWxsKCdjYW5jZWxQbGVkZ2UnLCBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLmZyb20pO1xuICAgICAgICAvLyB0cmFuc2ZlciB0aGUgZnVuZCBpZiBjYW5jZWwgcGxlZGdlIGRhdGEgdXBkYXRlZCBzdWNjZXNzXG4gICAgICAgIGxldCByID0gQmxvY2tjaGFpbi50cmFuc2ZlcihCbG9ja2NoYWluLnRyYW5zYWN0aW9uLmZyb20sIHZhbHVlKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIEV2ZW50LlRyaWdnZXIoXCJjYW5jZWxQbGVkZ2VcIiwge1xuICAgICAgICAgICAgICAgIFRyYW5zZmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24udG8sXG4gICAgICAgICAgICAgICAgICAgIHRvOiBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLmZyb20sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIGZvciBtdWx0aXNpZyBhbmQgZnVuZCBtYW5hZ2VyXG4gICAgdHJhbnNmZXJGdW5kOiBmdW5jdGlvbiAobmV3QWRkcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FsbG93VHJhbnNmZXJGdW5kKCkpIHtcbiAgICAgICAgICAgIHRocm93IChcIlBlcm1pc3Npb24gZGVuaWVkIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYyA9IG5ldyBCbG9ja2NoYWluLkNvbnRyYWN0KG5ld0FkZHIpO1xuICAgICAgICBsZXQgYiA9IEJsb2NrY2hhaW4uZ2V0QWNjb3VudFN0YXRlKEJsb2NrY2hhaW4udHJhbnNhY3Rpb24udG8pLmJhbGFuY2U7XG4gICAgICAgIGxldCByID0gYy52YWx1ZShuZXcgQmlnTnVtYmVyKGIpKS5jYWxsKCdhY2NlcHRGdW5kJyk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICBFdmVudC5UcmlnZ2VyKFwidHJhbnNmZXJGdW5kXCIsIHtcbiAgICAgICAgICAgICAgICBUcmFuc2Zlcjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLnRvLFxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3QWRkcixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyhcIlRyYW5zZmVyIEFtb3VudCBmYWlsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIC8vIGFjY2VwdCBmdW5kIHdoZW4gbmVjZXNzYXJ5XG4gICAgYWNjZXB0RnVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLnZhbHVlO1xuICAgICAgICBsZXQgZnJvbSA9IEJsb2NrY2hhaW4udHJhbnNhY3Rpb24uZnJvbTtcblxuICAgICAgICBFdmVudC5UcmlnZ2VyKFwiQWNjZXB0IGZ1bmQgZnJvbSBvdXRzb3VyY2VcIiwge1xuICAgICAgICAgICAgVHJhbnNmZXI6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiBCbG9ja2NoYWluLnRyYW5zYWN0aW9uLnRvLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIHByb3h5IHJlZGlyZWN0IHRvIHBsZWRnZS5qc1xuICAgIGdldEFkZHJlc3NJbmRleGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsZWRnZUNvbnRyYWN0LmNhbGwoJ2dldEFkZHJlc3NJbmRleGVzJyk7XG4gICAgfSxcblxuICAgIC8vIHByb3h5IHJlZGlyZWN0IHRvIHBsZWRnZS5qc1xuICAgIGdldEFkZHJlc3NlczogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsZWRnZUNvbnRyYWN0LmNhbGwoJ2dldEFkZHJlc3NlcycsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLy8gcHJveHkgcmVkaXJlY3QgdG8gcGxlZGdlLmpzXG4gICAgZ2V0Q3VycmVudFBsZWRnZTogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxlZGdlQ29udHJhY3QuY2FsbCgnZ2V0Q3VycmVudFBsZWRnZScsIGFkZHJlc3MpO1xuICAgIH0sXG5cbiAgICAvLyBwcm94eSByZWRpcmVjdCB0byBwbGVkZ2UuanNcbiAgICBnZXRIaXN0b3J5UGxlZGdlSW5kZXhlczogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxlZGdlQ29udHJhY3QuY2FsbCgnZ2V0SGlzdG9yeVBsZWRnZUluZGV4ZXMnLCBhZGRyZXNzKTtcbiAgICB9LFxuXG4gICAgLy8gcHJveHkgcmVkaXJlY3QgdG8gcGxlZGdlLmpzXG4gICAgZ2V0SGlzdG9yeVBsZWRnZXM6IGZ1bmN0aW9uIChhZGRyZXNzLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGVkZ2VDb250cmFjdC5jYWxsKCdnZXRIaXN0b3J5UGxlZGdlcycsIGFkZHJlc3MsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLy8gcHJveHkgcmVkaXJlY3QgdG8gcGxlZGdlLmpzXG4gICAgZ2V0VG90YWxEaXN0cmlidXRlOiBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGVkZ2VDb250cmFjdC5jYWxsKCdnZXRUb3RhbERpc3RyaWJ1dGUnLCBhZGRyZXNzKTtcbiAgICB9LFxuXG4gICAgLy8gcHJveHkgcmVkaXJlY3QgdG8gcGxlZGdlLmpzXG4gICAgZ2V0RGlzdHJpYnV0ZUluZGV4ZXM6IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsZWRnZUNvbnRyYWN0LmNhbGwoJ2dldERpc3RyaWJ1dGVJbmRleGVzJywgYWRkcmVzcyk7XG4gICAgfSxcblxuICAgIC8vIHByb3h5IHJlZGlyZWN0IHRvIHBsZWRnZS5qc1xuICAgIGdldERpc3RyaWJ1dGVzOiBmdW5jdGlvbiAoYWRkcmVzcywgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxlZGdlQ29udHJhY3QuY2FsbCgnZ2V0RGlzdHJpYnV0ZXMnLCBhZGRyZXNzLCBpbmRleCk7XG4gICAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGxlZGdlUHJveHk7XG4iLCAiQXJncyI6ICJbXCJuMXN4MkRVcEhvV3RzR1hyaHVwdUNDeFV4ZXVXa1lycVY1a1wiXSJ9QNcIShAAAAAAAAAAAAAAAASoF8gAUhAAAAAAAAAAAAAAAAAAAw1AWAFiQa3fDqcXr6Jp6zHEF8jyaXPBjy6nBJxmlx4MhByTAE4BLoL+n2nbXzBkxf0ZpDi9753xJvByha6FBXIGESpDZsoA